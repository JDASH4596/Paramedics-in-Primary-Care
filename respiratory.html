<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Respiratory ‚Äì PIPC</title>

<style>
  :root{
    --bg: #f3f5f8;
    --card: #ffffff;
    --text: #111827;
    --muted: #6b7280;
    --blue: #1e88e5;
    --border: #e5e7eb;
    --shadow: 0 6px 18px rgba(0,0,0,0.12);
    --danger-bg: #fff1f2;
    --danger-border: #fecdd3;
    --danger-text: #b91c1c;
  }

  body{
    font-family: Arial, sans-serif;
    margin: 0;
    background: var(--bg);
    color: var(--text);
  }

  /* HEADER */
  .topbar{
    background: var(--card);
    border-bottom: 1px solid var(--border);
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
  }
  .topbar-inner{
    max-width: 1100px;
    margin: 0 auto;
    padding: 14px 16px;
    display: flex;
    align-items: center;
    gap: 14px;
  }
  .brand{
    display: flex;
    align-items: center;
    gap: 10px;
    text-decoration: none;
    color: inherit;
  }
  .brand img{
    height: 44px;
    width: auto;
    display: block;
  }
  .brand-title{
    font-weight: 900;
    letter-spacing: 0.2px;
  }
  .page-title{
    margin-left: auto;
    font-size: 1.05rem;
    font-weight: 900;
    color: #0f172a;
  }

  /* CONTENT WRAP */
  .wrap{
    max-width: 1100px;
    margin: 18px auto;
    padding: 0 16px 40px 16px;
  }
  .crumb{
    margin: 8px 0 14px 0;
  }
  .crumb a{
    text-decoration: none;
    color: var(--blue);
    font-weight: 900;
  }
  h1{ margin: 6px 0 6px 0; font-size: 2.0rem; }
  p.sub{ margin: 0 0 18px 0; color: var(--muted); line-height: 1.4; }

  /* GRID */
  .grid{
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 14px;
  }

  .tile{
    position: relative;
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 14px;
    padding: 14px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    cursor: pointer;
    transition: transform 0.06s ease, box-shadow 0.12s ease;
  }
  .tile:hover{
    transform: translateY(-1px);
    box-shadow: 0 10px 22px rgba(0,0,0,0.08);
  }
  .tile h3{ margin: 0 0 6px 0; font-size: 1.06rem; }
  .tile p{
    margin: 0;
    color: var(--muted);
    font-size: 0.92rem;
  }

  /* Subtle red flags pill */
  .flag-pill{
    position: absolute;
    top: 10px;
    right: 10px;
    border: 1px solid var(--danger-border);
    background: var(--danger-bg);
    color: var(--danger-text);
    font-weight: 900;
    font-size: 0.78rem;
    padding: 5px 8px;
    border-radius: 999px;
    cursor: pointer;
    user-select: none;
  }
  .flag-pill:hover{
    filter: brightness(0.98);
  }

  /* WINDOWS */
  .window{
    position: fixed;
    top: 110px;
    left: 120px;
    width: min(780px, 92vw);
    background: var(--card);
    border-radius: 14px;
    box-shadow: var(--shadow);
    border: 1px solid var(--border);
    z-index: 1000;
  }

  .window-header{
    padding: 10px 12px;
    background: var(--blue);
    color: white;
    cursor: move;
    border-radius: 14px 14px 0 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    user-select: none;
    font-weight: 900;
  }

  .window-body{
    padding: 14px;
    max-height: 70vh;
    overflow-y: auto;
  }

  .close{
    cursor: pointer;
    font-weight: 900;
    padding: 2px 8px;
    border-radius: 8px;
    background: rgba(255,255,255,0.15);
  }

  .tag{
    display: inline-block;
    padding: 2px 8px;
    border-radius: 999px;
    font-size: 0.78rem;
    font-weight: 900;
    margin: 0 0 10px 0;
  }
  .tag-blue{ background: #e3f2fd; color: #0d47a1; border: 1px solid #bbdefb; }
  .tag-red{ background: var(--danger-bg); color: var(--danger-text); border: 1px solid var(--danger-border); }

  .box{
    background: #f1f8ff;
    border: 1px solid #dbeafe;
    padding: 12px;
    border-radius: 12px;
    white-space: pre-wrap;
    line-height: 1.38;
  }

  .box-danger{
    background: var(--danger-bg);
    border: 1px solid var(--danger-border);
  }

  table.compare{
    width: 100%;
    border-collapse: collapse;
    margin-top: 10px;
    font-size: 0.92rem;
    border: 1px solid var(--border);
    border-radius: 12px;
    overflow: hidden;
  }
  .compare th{
    background: #e3f2fd;
    padding: 10px;
    text-align: left;
    font-weight: 900;
  }
  .compare td{
    padding: 10px;
    border-top: 1px solid var(--border);
    vertical-align: top;
  }
  .good{ color: #1b5e20; font-weight: 900; }
  .mid{  color: #e65100; font-weight: 900; }
  .bad{  color: #b91c1c; font-weight: 900; }

  .links a{
    color: var(--blue);
    font-weight: 900;
    text-decoration: none;
  }

  @media (max-width: 520px){
    .page-title{ display: none; }
    .brand img{ height: 40px; }
  }
</style>
</head>

<body>

<header class="topbar">
  <div class="topbar-inner">
    <a class="brand" href="index.html" title="Back to Home">
      <img src="assets/pipc-short.png" alt="PIPC logo" />
      <div class="brand-title">PIPC</div>
    </a>
    <div class="page-title">Respiratory</div>
  </div>
</header>

<div class="wrap">
  <div class="crumb"><a href="index.html">‚Üê Home</a></div>

  <h1>Respiratory</h1>
  <p class="sub">Tap a tile for full detail. Use the small üö© pill for fast escalation cues.</p>

  <div class="grid">
    <!-- Comparisons -->
    <div class="tile" onclick="openWindow('comparisons')">
      <h3>üìä Comparisons</h3>
      <p>Fast side-by-side tables (scan in seconds).</p>
      <div class="flag-pill" onclick="event.stopPropagation(); openRedFlags('respiratory')">üö©</div>
    </div>

    <div class="tile" onclick="openWindow('asthma')">
      <h3>üí® Asthma</h3>
      <p>Wheeze ‚Ä¢ tight chest ‚Ä¢ ‚Üë inhaler use</p>
      <div class="flag-pill" onclick="event.stopPropagation(); openRedFlags('asthma')">üö©</div>
    </div>

    <div class="tile" onclick="openWindow('urti')">
      <h3>ü§ß Viral URTI</h3>
      <p>Runny nose ‚Ä¢ sore throat ‚Ä¢ headache</p>
      <div class="flag-pill" onclick="event.stopPropagation(); openRedFlags('urti')">üö©</div>
    </div>

    <div class="tile" onclick="openWindow('bronchitis')">
      <h3>ü´Å Acute Bronchitis</h3>
      <p>Post-viral cough ‚Ä¢ usually self-limiting</p>
      <div class="flag-pill" onclick="event.stopPropagation(); openRedFlags('bronchitis')">üö©</div>
    </div>

    <div class="tile" onclick="openWindow('copd')">
      <h3>ü´Å COPD Exacerbation</h3>
      <p>‚Üë breathlessness ‚Ä¢ sputum change</p>
      <div class="flag-pill" onclick="event.stopPropagation(); openRedFlags('copd')">üö©</div>
    </div>

    <div class="tile" onclick="openWindow('pneumonia')">
      <h3>ü¶† Pneumonia</h3>
      <p>Fever ‚Ä¢ pleuritic pain ‚Ä¢ focal signs</p>
      <div class="flag-pill" onclick="event.stopPropagation(); openRedFlags('pneumonia')">üö©</div>
    </div>

    <div class="tile" onclick="openWindow('pe')">
      <h3>ü©∏ Pulmonary Embolism</h3>
      <p>Sudden SOB ‚Ä¢ pleuritic pain ‚Ä¢ tachycardia</p>
      <div class="flag-pill" onclick="event.stopPropagation(); openRedFlags('pe')">üö©</div>
    </div>

    <div class="tile" onclick="openWindow('ptx')">
      <h3>üéà Pneumothorax</h3>
      <p>Sudden pain ‚Ä¢ reduced air entry</p>
      <div class="flag-pill" onclick="event.stopPropagation(); openRedFlags('ptx')">üö©</div>
    </div>

    <div class="tile" onclick="openWindow('hf')">
      <h3>üíî Heart Failure</h3>
      <p>Orthopnoea/PND ‚Ä¢ oedema ‚Ä¢ crackles</p>
      <div class="flag-pill" onclick="event.stopPropagation(); openRedFlags('hf')">üö©</div>
    </div>
  </div>
</div>

<script>
let zIndexCounter = 1000;

/* Window helpers */
function createWindow(title, html) {
  const win = document.createElement("div");
  win.className = "window";
  win.style.zIndex = ++zIndexCounter;

  win.innerHTML = `
    <div class="window-header">
      ${title}
      <span class="close" onclick="this.closest('.window').remove()">‚úñ</span>
    </div>
    <div class="window-body">${html}</div>
  `;

  document.body.appendChild(win);
  makeDraggable(win);
}

function makeDraggable(win) {
  const header = win.querySelector(".window-header");
  let dragging = false, offsetX = 0, offsetY = 0;

  header.addEventListener("mousedown", (e) => {
    dragging = true;
    win.style.zIndex = ++zIndexCounter;
    offsetX = e.clientX - win.offsetLeft;
    offsetY = e.clientY - win.offsetTop;
    document.body.style.userSelect = "none";
  });

  document.addEventListener("mousemove", (e) => {
    if (!dragging) return;
    win.style.left = (e.clientX - offsetX) + "px";
    win.style.top  = (e.clientY - offsetY) + "px";
  });

  document.addEventListener("mouseup", () => {
    dragging = false;
    document.body.style.userSelect = "auto";
  });
}

/* Content */
function openWindow(key) {
  const content = {

    comparisons: `
      <span class="tag tag-blue">Quick comparisons</span>
      <div class="box">
<h4 style="margin:0 0 8px 0;">URTI vs Bronchitis vs Pneumonia</h4>
<table class="compare">
<tr><th>Feature</th><th>URTI</th><th>Bronchitis</th><th>Pneumonia</th></tr>
<tr><td>Fever</td><td class="good">None / low</td><td class="mid">Mild</td><td class="bad">High / rigors</td></tr>
<tr><td>Key symptoms</td><td>Runny nose, sore throat, headache</td><td>Cough (often persistent)</td><td>Cough + systemically unwell</td></tr>
<tr><td>Chest exam</td><td class="good">Clear</td><td class="mid">Wheeze / rhonchi</td><td class="bad">Focal crackles / bronchial breathing</td></tr>
<tr><td>SpO‚ÇÇ</td><td class="good">Normal</td><td class="good">Usually normal</td><td class="bad">May be reduced</td></tr>
<tr><td>Antibiotics</td><td class="good">No</td><td class="good">No (usually)</td><td class="bad">Yes (local + NICE)</td></tr>
</table>

<h4 style="margin:14px 0 8px 0;">Asthma vs COPD vs HF (quick cues)</h4>
<table class="compare">
<tr><th>Clue</th><th>Asthma</th><th>COPD</th><th>Heart failure</th></tr>
<tr><td>Typical history</td><td>Atopy/variable symptoms</td><td>Smoking/chronic symptoms</td><td>Cardiac history, fluid overload</td></tr>
<tr><td>Chest</td><td class="mid">Wheeze common</td><td class="mid">Wheeze + reduced air entry</td><td class="bad">Crackles ¬± wheeze (‚Äúcardiac‚Äù)</td></tr>
<tr><td>Other clues</td><td>Triggered by viral/allergen</td><td>Sputum change in exacerbation</td><td class="bad">Oedema, orthopnoea/PND</td></tr>
</table>

<div class="links" style="margin-top:12px;">
<strong>Links:</strong><br>
<a href="https://cks.nice.org.uk/" target="_blank">NICE CKS (search)</a>
</div>
      </div>
    `,

    asthma: `
      <span class="tag tag-blue">Respiratory</span>
      <div class="box">
DEFINITION
Inflammatory condition of the airways which result in narrowing during exacerbation causing a wheeze.

SIGNS & SYMPTOMS
‚Ä¢ Increased respiratory rate
‚Ä¢ Tight chest
‚Ä¢ Increased inhaler use
‚Ä¢ Peak flow varies with severity

ASSESSMENT (QUICK)
‚Ä¢ Work of breathing, speaking in sentences, fatigue
‚Ä¢ SpO‚ÇÇ (baseline if known)
‚Ä¢ Wheeze? (silent chest is worrying)
‚Ä¢ Triggers: viral illness, allergens, technique/adherence
‚Ä¢ Check personal asthma action plan

TREATMENT / MANAGEMENT (PRIMARY CARE FOCUS)
‚Ä¢ Consider prednisolone (e.g., 40mg) if wheeze chest (follow local guidance)
‚Ä¢ Consider how much the patient has been using the inhaler (SABA/MART)
‚Ä¢ Clinical judgement: many exacerbations are viral
‚Ä¢ Check for LRTI features: focal sounds, fever, reduced SpO‚ÇÇ
‚Ä¢ Review inhaler technique + spacer use
‚Ä¢ Consider asthma review if exacerbated or due

WHEN TO THINK ‚ÄúNOT JUST ASTHMA‚Äù
‚Ä¢ Fever + focal chest signs ‚Üí consider pneumonia
‚Ä¢ Pleuritic chest pain + risk factors ‚Üí consider PE
‚Ä¢ Orthopnoea + oedema + bibasal crackles ‚Üí consider HF
‚Ä¢ Sudden unilateral reduced air entry ‚Üí consider pneumothorax

GUIDELINES
‚Ä¢ NICE CKS ‚Äì Asthma: https://cks.nice.org.uk/topics/asthma/
‚Ä¢ BTS / SIGN: https://www.brit-thoracic.org.uk/quality-improvement/guidelines/asthma/
      </div>
    `,

    urti: `
      <span class="tag tag-blue">Respiratory</span>
      <div class="box">
DEFINITION
Self-limiting viral infection of the upper airway (nose/throat). Antibiotics are usually not indicated.

KEY FEATURES (KISS)
‚Ä¢ Runny/blocked nose
‚Ä¢ Sore throat
‚Ä¢ Headache
‚Ä¢ Mild cough
‚Ä¢ Low-grade fever
‚Ä¢ Myalgia/fatigue

ASSESSMENT (QUICK)
‚Ä¢ Duration + severity
‚Ä¢ Hydration
‚Ä¢ Baseline risk: frailty, immunosuppression, comorbidity

MANAGEMENT (PRIMARY CARE)
‚Ä¢ Safety-net + expected course (often 7‚Äì10 days; cough can last longer)
‚Ä¢ Fluids + rest
‚Ä¢ Simple analgesia (if appropriate)
‚Ä¢ Saline sprays/irrigation
‚Ä¢ Avoid antibiotics unless clear indication (local + NICE CKS)

GUIDELINES
‚Ä¢ Common cold: https://cks.nice.org.uk/topics/common-cold/
‚Ä¢ Sore throat (acute): https://cks.nice.org.uk/topics/sore-throat-acute/
      </div>
    `,

    bronchitis: `
      <span class="tag tag-blue">Respiratory</span>
      <div class="box">
DEFINITION
Acute inflammation of the bronchi (usually viral), commonly after URTI.

SIGNS & SYMPTOMS
‚Ä¢ Cough (often 2‚Äì3 weeks)
‚Ä¢ Sputum may be present (does not automatically mean bacterial)
‚Ä¢ Chest discomfort
‚Ä¢ Wheeze can occur

ASSESSMENT (QUICK)
‚Ä¢ RR, HR, temp, SpO‚ÇÇ
‚Ä¢ Chest: often wheeze/rhonchi; usually no focal crackles

FIRST-LINE (ANTIMICROBIALS)
‚Ä¢ Usually NO antibiotics
‚Ä¢ If high-risk/atypical course ‚Üí follow LOCAL antimicrobial guidance + NICE CKS criteria

GUIDELINES
‚Ä¢ https://cks.nice.org.uk/topics/acute-bronchitis/
      </div>
    `,

    copd: `
      <span class="tag tag-blue">Respiratory</span>
      <div class="box">
DEFINITION
Acute worsening of COPD symptoms beyond day-to-day variation (often viral trigger).

SIGNS & SYMPTOMS
‚Ä¢ Increased breathlessness
‚Ä¢ Increased sputum volume and/or purulence
‚Ä¢ Increased cough/wheeze
‚Ä¢ Reduced exercise tolerance

ASSESSMENT (QUICK)
‚Ä¢ ABCDE + SpO‚ÇÇ (baseline if known)
‚Ä¢ Check for focal crackles (pneumonia)
‚Ä¢ Ask: rescue pack? prior NIV/admissions?

TREATMENT / MANAGEMENT (PRIMARY CARE)
‚Ä¢ Optimise bronchodilators per local pathway
‚Ä¢ Consider steroids if indicated (local guidance)
‚Ä¢ Safety-net + arrange review

FIRST-LINE (ANTIMICROBIALS)
‚Ä¢ Not for all exacerbations
‚Ä¢ Consider if bacterial features (e.g. sputum purulence/volume, systemic features) or per local criteria
‚Ä¢ Choose first-line per LOCAL antimicrobial guidance; cross-check NICE CKS

GUIDELINES
‚Ä¢ https://cks.nice.org.uk/topics/chronic-obstructive-pulmonary-disease/
      </div>
    `,

    pneumonia: `
      <span class="tag tag-blue">Respiratory</span>
      <div class="box">
DEFINITION
Infection of lung tissue causing inflammation/consolidation.

SIGNS & SYMPTOMS
‚Ä¢ Fever/rigors
‚Ä¢ Cough +/- sputum
‚Ä¢ Pleuritic chest pain
‚Ä¢ Breathlessness
‚Ä¢ Focal crackles/bronchial breathing
‚Ä¢ Confusion (esp. older adults)

ASSESSMENT (QUICK)
‚Ä¢ Vitals + SpO‚ÇÇ
‚Ä¢ Sepsis screen / systemic unwell?
‚Ä¢ Focal chest findings?

FIRST-LINE (ANTIMICROBIALS)
‚Ä¢ Choose first-line antibiotic per LOCAL antimicrobial guidance first
‚Ä¢ Cross-check NICE CKS for indications/alternatives (e.g. allergy)

GUIDELINES
‚Ä¢ https://cks.nice.org.uk/topics/pneumonia-adults/
      </div>
    `,

    pe: `
      <span class="tag tag-blue">Respiratory</span>
      <div class="box">
DEFINITION
Thrombus in pulmonary arterial circulation ‚Üí V/Q mismatch. Potentially life-threatening.

SIGNS & SYMPTOMS
‚Ä¢ Sudden breathlessness
‚Ä¢ Pleuritic chest pain
‚Ä¢ Tachycardia
‚Ä¢ Cough +/- haemoptysis
‚Ä¢ Syncope/pre-syncope (worrying)

ASSESSMENT (QUICK)
‚Ä¢ ABCDE + SpO‚ÇÇ
‚Ä¢ Risk factors: immobility/surgery, cancer, prior VTE, pregnancy/post-partum, oestrogen, long travel
‚Ä¢ DVT signs: unilateral leg swelling/pain

MANAGEMENT
‚Ä¢ If suspected ‚Üí urgent same-day emergency assessment (follow local pathway)

GUIDELINES
‚Ä¢ https://cks.nice.org.uk/topics/pulmonary-embolism/
      </div>
    `,

    ptx: `
      <span class="tag tag-blue">Respiratory</span>
      <div class="box">
DEFINITION
Air in pleural space causing lung collapse (spontaneous or traumatic).

SIGNS & SYMPTOMS
‚Ä¢ Sudden unilateral pleuritic chest pain
‚Ä¢ Sudden breathlessness
‚Ä¢ Reduced/absent breath sounds on affected side

MANAGEMENT
‚Ä¢ Suspected pneumothorax usually needs urgent same-day assessment/imaging
‚Ä¢ Escalate immediately if unstable / suspected tension

GUIDELINES
‚Ä¢ https://cks.nice.org.uk/topics/pneumothorax/
      </div>
    `,

    hf: `
      <span class="tag tag-blue">Respiratory</span>
      <div class="box">
DEFINITION
Impaired cardiac function ‚Üí fluid overload and reduced perfusion. Can present as breathlessness.

SIGNS & SYMPTOMS
‚Ä¢ Breathlessness
‚Ä¢ Orthopnoea / PND
‚Ä¢ Peripheral oedema
‚Ä¢ Weight gain
‚Ä¢ Bibasal crackles
‚Ä¢ Fatigue

ASSESSMENT (QUICK)
‚Ä¢ Vitals + SpO‚ÇÇ
‚Ä¢ Look for fluid overload signs
‚Ä¢ Triggers: infection, arrhythmia, ACS, non-adherence

MANAGEMENT
‚Ä¢ Acute pulmonary oedema / severe distress ‚Üí urgent escalation
‚Ä¢ If stable ‚Üí follow local pathway/plan + arrange review

GUIDELINES
‚Ä¢ https://cks.nice.org.uk/topics/heart-failure/
      </div>
    `
  };

  createWindow(titleCase(key), content[key] || "<div class='box'>Content not found.</div>");
}

/* Red flags */
function openRedFlags(topic) {
  const flags = {
    respiratory: [
      "SpO‚ÇÇ persistently low or dropping",
      "Severe breathlessness / exhaustion",
      "Chest pain suggestive of ACS/PE",
      "Haemoptysis",
      "Confusion / reduced consciousness",
      "Sepsis features",
      "Rapid deterioration"
    ],
    asthma: [
      "Silent chest / very poor air entry",
      "Unable to speak in sentences / exhaustion",
      "SpO‚ÇÇ low or falling",
      "Cyanosis, agitation or drowsiness",
      "Poor response to reliever / worsening work of breathing"
    ],
    urti: [
      "Severe breathlessness / distress",
      "SpO‚ÇÇ low for patient",
      "Stridor/drooling/airway concern",
      "Sepsis features",
      "Severe dehydration / unable to swallow fluids",
      "Chest pain suggestive of ACS/PE"
    ],
    bronchitis: [
      "SpO‚ÇÇ low, increasing breathlessness",
      "Focal chest signs + fever (consider pneumonia)",
      "Significant haemoptysis",
      "Sepsis features",
      "High-risk patient deteriorating"
    ],
    copd: [
      "Drowsiness/confusion/exhaustion (possible hypercapnia)",
      "SpO‚ÇÇ persistently low despite treatment",
      "Severe distress/cyanosis",
      "Sepsis features",
      "New chest pain/arrhythmia"
    ],
    pneumonia: [
      "SpO‚ÇÇ low / respiratory distress",
      "Sepsis features / hypotension",
      "Confusion/exhaustion",
      "Unable to maintain oral intake",
      "Rapid deterioration"
    ],
    pe: [
      "Syncope/collapse",
      "Hypotension/shock",
      "Severe hypoxia",
      "Severe chest pain suggestive of ACS",
      "Significant haemoptysis"
    ],
    ptx: [
      "Suspected tension (shock/hypotension)",
      "Severe respiratory distress",
      "SpO‚ÇÇ very low / rapidly worsening",
      "Reduced consciousness"
    ],
    hf: [
      "Acute pulmonary oedema / severe distress",
      "SpO‚ÇÇ low / exhaustion",
      "Hypotension/syncope",
      "Chest pain suggestive of ACS",
      "New significant arrhythmia"
    ]
  };

  const list = flags[topic] || flags.respiratory;

  const html = `
    <span class="tag tag-red">FAST RED FLAGS</span>
    <div class="box box-danger">
      <ul style="margin:0; padding-left:18px;">
        ${list.map(x => `<li style="margin:6px 0;"><strong>${x}</strong></li>`).join("")}
      </ul>
    </div>
  `;

  createWindow("üö© Red Flags", html);
}

/* Helpers */
function titleCase(s){
  const map = {
    comparisons: "Comparisons",
    asthma: "Asthma",
    urti: "Viral URTI",
    bronchitis: "Acute Bronchitis",
    copd: "COPD Exacerbation",
    pneumonia: "Pneumonia",
    pe: "Pulmonary Embolism",
    ptx: "Pneumothorax",
    hf: "Heart Failure"
  };
  return map[s] || s;
}
</script>

</body>
</html>













