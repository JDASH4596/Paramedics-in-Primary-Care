<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Respiratory ‚Äì PIPC</title>

<style>
  :root{
    --bg: #f3f5f8;
    --card: #ffffff;
    --text: #111827;
    --muted: #6b7280;
    --blue: #1e88e5;
    --border: #e5e7eb;
    --shadow: 0 6px 18px rgba(0,0,0,0.12);

    --danger-bg: #fff1f2;
    --danger-border: #fecdd3;
    --danger-text: #b91c1c;

    --sec-bg: #f1f8ff;
    --sec-border: #dbeafe;

    --sec2-bg: #f7f7ff;
    --sec2-border: #e0e7ff;

    --sec3-bg: #f6fffb;
    --sec3-border: #bbf7d0;
  }

  body{
    font-family: Arial, sans-serif;
    margin: 0;
    background: var(--bg);
    color: var(--text);
  }

  /* HEADER */
  .topbar{
    background: var(--card);
    border-bottom: 1px solid var(--border);
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
  }
  .topbar-inner{
    max-width: 1100px;
    margin: 0 auto;
    padding: 14px 16px;
    display: flex;
    align-items: center;
    gap: 14px;
  }
  .brand{
    display: flex;
    align-items: center;
    gap: 10px;
    text-decoration: none;
    color: inherit;
  }
  .brand img{ height: 44px; width: auto; display: block; }
  .brand-title{ font-weight: 900; letter-spacing: 0.2px; }
  .page-title{
    margin-left: auto;
    font-size: 1.05rem;
    font-weight: 900;
    color: #0f172a;
  }

  /* CONTENT */
  .wrap{
    max-width: 1100px;
    margin: 18px auto;
    padding: 0 16px 40px 16px;
  }
  .crumb{ margin: 8px 0 14px 0; }
  .crumb a{
    text-decoration: none;
    color: var(--blue);
    font-weight: 900;
  }
  h1{ margin: 6px 0 6px 0; font-size: 2.0rem; }
  p.sub{ margin: 0 0 18px 0; color: var(--muted); line-height: 1.4; }

  /* GRID */
  .grid{
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    gap: 14px;
  }

  .tile{
    position: relative;
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 14px;
    padding: 14px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    cursor: pointer;
    transition: transform 0.06s ease, box-shadow 0.12s ease;
  }
  .tile:hover{
    transform: translateY(-1px);
    box-shadow: 0 10px 22px rgba(0,0,0,0.08);
  }
  .tile h3{ margin: 0 0 6px 0; font-size: 1.06rem; }
  .tile p{ margin: 0; color: var(--muted); font-size: 0.92rem; }

  /* Subtle red flags pill */
  .flag-pill{
    position: absolute;
    top: 10px;
    right: 10px;
    border: 1px solid var(--danger-border);
    background: var(--danger-bg);
    color: var(--danger-text);
    font-weight: 900;
    font-size: 0.78rem;
    padding: 5px 8px;
    border-radius: 999px;
    cursor: pointer;
    user-select: none;
  }

  /* ===== Overlay (tap outside to close) ===== */
  .overlay{
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.35);
    z-index: 999; /* below window */
    display: none;
  }

  /* WINDOWS */
  .window{
    position: fixed;
    top: 110px;
    left: 120px;
    width: min(820px, 92vw);
    background: var(--card);
    border-radius: 14px;
    box-shadow: var(--shadow);
    border: 1px solid var(--border);
    z-index: 1000;
    box-sizing: border-box;
    max-width: 100%; /* FIX */
  }

  /* NEW: keep content inside window */
  .window-body{
    padding: 14px;
    flex: 1 1 auto;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    min-height: 0; /* FIX */
    max-width: 100%; /* FIX */
  }

  /* Prevent inner content pushing out */
  .window, .window *{
    max-width: 100%;
    box-sizing: border-box;
    overflow-wrap: anywhere;
    word-break: break-word;
  }

  @media (max-width: 520px){
    .page-title{ display: none; }
    .brand img{ height: 40px; }
  }
</style>
</head>

<body>

<!-- Overlay (tap anywhere outside the window to close) -->
<div id="overlay" class="overlay" aria-hidden="true"></div>

<header class="topbar">
  <div class="topbar-inner">
    <a class="brand" href="index.html" title="Back to Home">
      <img src="assets/pipc-short.png" alt="PIPC logo" />
      <div class="brand-title">PIPC</div>
    </a>
    <div class="page-title">Respiratory</div>
  </div>
</header>

<div class="wrap">
  <div class="crumb"><a href="index.html">‚Üê Home</a></div>

  <h1>Respiratory</h1>
  <p class="sub">Tap a tile for detail. Sections are separated for fast scanning. Use the small üö© pill for red flags.</p>

  <div class="grid">
    <div class="tile" onclick="openWindow('comparisons')">
      <h3>üìä Comparisons</h3>
      <p>Fast side-by-side tables (scan in seconds).</p>
      <div class="flag-pill" onclick="event.stopPropagation(); openRedFlags('respiratory')">üö©</div>
    </div>