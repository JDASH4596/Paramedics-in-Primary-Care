<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ENT</title>

  <style>
    :root{
      --bg:#f4f6f8;
      --card:#ffffff;
      --text:#1c1c1c;
      --muted:#666;
      --shadow:0 10px 22px rgba(0,0,0,0.10);
      --shadow-soft:0 6px 16px rgba(0,0,0,0.08);
      --radius:16px;
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      background:var(--bg);
      color:var(--text);
    }

    header{
      padding:18px 16px 10px;
    }

    .topbar{
      display:flex;
      align-items:center;
      gap:10px;
      margin-bottom:10px;
    }

    .logo{
      width:44px;
      height:44px;
      border-radius:10px;
      background:#e9eef5;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:700;
      color:#2b4a7a;
      user-select:none;
    }

    h1{
      margin:0;
      font-size:32px;
      letter-spacing:-0.5px;
    }

    .subtitle{
      margin:6px 0 0;
      color:var(--muted);
      line-height:1.35;
    }

    .wrap{
      padding:0 16px 22px;
    }

    .tile-grid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap:12px;
      margin-top:14px;
    }

    .tile{
      background:var(--card);
      border-radius:var(--radius);
      padding:14px 14px;
      box-shadow:var(--shadow-soft);
      border:1px solid rgba(0,0,0,0.04);
      text-decoration:none;
      color:inherit;
      cursor:pointer;
      transition:transform .12s ease, box-shadow .12s ease;
      min-height:74px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      -webkit-tap-highlight-color: transparent;
    }

    .tile:active{ transform: translateY(1px); }

    .tile-left{
      display:flex;
      flex-direction:column;
      gap:4px;
    }

    .tile-title{
      font-size:18px;
      font-weight:800;
      margin:0;
    }

    .tile-desc{
      margin:0;
      color:var(--muted);
      font-size:14px;
    }

    .tile-emoji{
      font-size:22px;
      width:38px;
      height:38px;
      display:flex;
      align-items:center;
      justify-content:center;
      border-radius:12px;
      background:#f0f3f7;
      flex:0 0 auto;
    }

    /* ===== Modal overlay + box ===== */
    .modal-overlay{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.45);
      z-index:999;
      display:none;
      touch-action: manipulation;
    }

    .modal-box{
      position:fixed;
      left:0;
      right:0;
      bottom:0;
      width:100%;
      max-height:92vh;
      background:var(--card);
      border-radius:18px 18px 0 0;
      z-index:1000;
      transform:translateY(110%);
      transition:transform .22s ease;
      display:flex;
      flex-direction:column;
      box-shadow: var(--shadow);
      border-top:1px solid rgba(0,0,0,0.08);
    }

    .modal-box.open{ transform:translateY(0); }

    .modal-handle{
      width:44px;
      height:5px;
      background:#d3d7de;
      border-radius:999px;
      margin:10px auto 6px;
      flex:0 0 auto;
    }

    .modal-header{
      padding:10px 16px 8px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      border-bottom:1px solid rgba(0,0,0,0.06);
    }

    .modal-title{
      margin:0;
      font-size:18px;
      font-weight:900;
    }

    .close-btn{
      border:none;
      background:#f2f4f7;
      border-radius:12px;
      padding:10px 12px;
      font-weight:800;
      cursor:pointer;
      -webkit-tap-highlight-color: transparent;
    }

    .modal-content{
      padding:14px 16px 18px;
      overflow-y:auto;
      -webkit-overflow-scrolling:touch;
    }

    /* ‚Äúsections stand out‚Äù cards inside modal */
    .info-card{
      background:#f7f9fc;
      border:1px solid rgba(0,0,0,0.06);
      border-left:6px solid #cbd5e1;
      border-radius:14px;
      padding:12px 12px;
      margin:10px 0;
    }

    .info-card h3{
      margin:0 0 8px;
      font-size:14px;
      letter-spacing:0.4px;
      text-transform:uppercase;
      opacity:0.85;
    }

    .info-card ul{
      margin:0;
      padding-left:18px;
    }

    .info-card li{ margin:6px 0; }

    .def { border-left-color:#4a90e2; }
    .assess { border-left-color:#7ed321; }
    .manage { border-left-color:#f5a623; }
    .flags { border-left-color:#d0021b; }

    .guidelines a{
      color:#2b70c9;
      font-weight:800;
      text-decoration:none;
    }

    .guidelines a:hover{ text-decoration:underline; }

    /* Make sure nothing causes sideways overflow */
    .modal-content, .info-card, .tile, header, .wrap { max-width:100%; }
  </style>
</head>

<body>
  <div id="top"></div>

  <header>
    <div class="topbar">
      <div class="logo">PIPC</div>
      <div style="font-weight:900;">PIPC</div>
    </div>

    <h1>ENT</h1>
    <p class="subtitle">
      Tap a tile for details. The info opens in a mobile-friendly box. Tap outside to close.
    </p>
  </header>

  <div class="wrap">
    <section class="tile-grid">

      <button class="tile" type="button" onclick="openCondition('Sore Throat', soreThroat)">
        <div class="tile-left">
          <p class="tile-title">Sore Throat</p>
          <p class="tile-desc">Pharyngitis / Tonsillitis</p>
        </div>
        <div class="tile-emoji">üó£Ô∏è</div>
      </button>

      <button class="tile" type="button" onclick="openCondition('Otitis Media', otitisMedia)">
        <div class="tile-left">
          <p class="tile-title">Otitis Media</p>
          <p class="tile-desc">Middle ear infection</p>
        </div>
        <div class="tile-emoji">üëÇ</div>
      </button>

      <button class="tile" type="button" onclick="openCondition('Otitis Externa', otitisExterna)">
        <div class="tile-left">
          <p class="tile-title">Otitis Externa</p>
          <p class="tile-desc">Ear canal inflammation</p>
        </div>
        <div class="tile-emoji">üíß</div>
      </button>

      <button class="tile" type="button" onclick="openCondition('Sinusitis', sinusitis)">
        <div class="tile-left">
          <p class="tile-title">Sinusitis</p>
          <p class="tile-desc">Acute & chronic</p>
        </div>
        <div class="tile-emoji">ü§ß</div>
      </button>

      <button class="tile" type="button" onclick="openCondition('Epistaxis', epistaxis)">
        <div class="tile-left">
          <p class="tile-title">Epistaxis</p>
          <p class="tile-desc">Nosebleeds</p>
        </div>
        <div class="tile-emoji">üëÉ</div>
      </button>

      <button class="tile" type="button" onclick="openCondition('Vertigo (BPPV)', bppv)">
        <div class="tile-left">
          <p class="tile-title">Vertigo (BPPV)</p>
          <p class="tile-desc">Benign positional vertigo</p>
        </div>
        <div class="tile-emoji">üåÄ</div>
      </button>

    </section>
  </div>

  <!-- ===== Modal overlay + box ===== -->
  <div id="modalOverlay" class="modal-overlay" aria-hidden="true"></div>

  <div id="modalBox" class="modal-box" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal-handle"></div>

    <div class="modal-header">
      <h2 id="modalTitle" class="modal-title">Condition</h2>
      <button class="close-btn" type="button" onclick="closeModal()">Close</button>
    </div>

    <div class="modal-content" id="modalContent">
      <!-- Injected content -->
    </div>
  </div>

  <script>
    const overlay = document.getElementById('modalOverlay');
    const modal = document.getElementById('modalBox');
    const modalTitle = document.getElementById('modalTitle');
    const modalContent = document.getElementById('modalContent');

    function openCondition(title, html) {
      modalTitle.textContent = title;
      modalContent.innerHTML = html;

      overlay.style.display = 'block';
      overlay.setAttribute('aria-hidden', 'false');

      modal.classList.add('open');

      // Lock background scroll
      document.body.style.overflow = 'hidden';
    }

    function closeModal() {
      modal.classList.remove('open');

      overlay.style.display = 'none';
      overlay.setAttribute('aria-hidden', 'true');

      document.body.style.overflow = '';
    }

    // Tap outside (overlay) closes
    overlay.addEventListener('click', closeModal);

    // ESC closes (helpful on desktop)
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && modal.classList.contains('open')) closeModal();
    });

    // ===== Content blocks (edit these) =====
    const soreThroat = `
      <div class="info-card def">
        <h3>Definition</h3>
        <ul>
          <li>Inflammation of pharynx/tonsils. Often viral; consider bacterial features.</li>
        </ul>
      </div>

      <div class="info-card assess">
        <h3>Quick Assessment</h3>
        <ul>
          <li>Duration, fever, unilateral vs bilateral pain</li>
          <li>Swallowing, voice change, trismus</li>
          <li>Examine tonsils/uvula, cervical nodes, hydration</li>
        </ul>
      </div>

      <div class="info-card manage">
        <h3>Management</h3>
        <ul>
          <li>Analgesia, fluids, rest</li>
          <li>Consider Centor/FeverPAIN approach (local guidance)</li>
          <li>Safety net if worsening or not improving</li>
        </ul>
      </div>

      <div class="info-card flags">
        <h3>Red Flags</h3>
        <ul>
          <li>Airway compromise, drooling, stridor</li>
          <li>Trismus / uvula deviation (consider peritonsillar abscess)</li>
          <li>Systemically very unwell / dehydration</li>
        </ul>
      </div>

      <div class="info-card guidelines">
        <h3>Guidelines</h3>
        <ul>
          <li><a href="#" onclick="return false;">NICE CKS ‚Äì Sore throat (edit link)</a></li>
        </ul>
      </div>
    `;

    const otitisMedia = `
      <div class="info-card def">
        <h3>Definition</h3>
        <ul>
          <li>Acute middle ear infection, usually following URTI.</li>
        </ul>
      </div>

      <div class="info-card assess">
        <h3>Quick Assessment</h3>
        <ul>
          <li>Pain, fever, discharge, hearing change</li>
          <li>Look for mastoid tenderness/swelling</li>
          <li>Otoscopy: bulging/erythematous TM, perforation</li>
        </ul>
      </div>

      <div class="info-card manage">
        <h3>Management</h3>
        <ul>
          <li>Analgesia first-line</li>
          <li>Consider delayed antibiotics (local guidance)</li>
          <li>Advice: return if worsening, persistent fever, or complications</li>
        </ul>
      </div>

      <div class="info-card flags">
        <h3>Red Flags</h3>
        <ul>
          <li>Mastoiditis signs (post-auricular swelling, protruding ear)</li>
          <li>Facial nerve weakness</li>
          <li>Severe systemic illness / meningism</li>
        </ul>
      </div>
    `;

    const otitisExterna = `
      <div class="info-card def">
        <h3>Definition</h3>
        <ul>
          <li>Inflammation/infection of external ear canal.</li>
        </ul>
      </div>

      <div class="info-card assess">
        <h3>Quick Assessment</h3>
        <ul>
          <li>Canal pain/itch, discharge, hearing reduction</li>
          <li>Tragal tenderness, swollen canal</li>
          <li>Risk factors: swimming, trauma, diabetes</li>
        </ul>
      </div>

      <div class="info-card manage">
        <h3>Management</h3>
        <ul>
          <li>Topical drops per local guidance</li>
          <li>Keep ear dry; avoid cotton buds</li>
          <li>Consider wick if canal very swollen (service dependent)</li>
        </ul>
      </div>

      <div class="info-card flags">
        <h3>Red Flags</h3>
        <ul>
          <li>Diabetes/immunocompromised with severe pain (consider malignant otitis externa)</li>
          <li>Spreading cellulitis, cranial nerve symptoms</li>
          <li>Systemically unwell</li>
        </ul>
      </div>
    `;

    const sinusitis = `
      <div class="info-card def">
        <h3>Definition</h3>
        <ul>
          <li>Inflammation of paranasal sinuses; often viral. Bacterial more likely if prolonged/severe.</li>
        </ul>
      </div>

      <div class="info-card assess">
        <h3>Quick Assessment</h3>
        <ul>
          <li>Duration (e.g., &gt;10 days), fever, unilateral facial pain</li>
          <li>Purulent discharge, anosmia, dental pain</li>
          <li>Check for orbital symptoms</li>
        </ul>
      </div>

      <div class="info-card manage">
        <h3>Management</h3>
        <ul>
          <li>Analgesia, saline irrigation</li>
          <li>Consider intranasal steroid (esp. allergic/rhinitis features)</li>
          <li>Antibiotics only if criteria met (local guidance)</li>
        </ul>
      </div>

      <div class="info-card flags">
        <h3>Red Flags</h3>
        <ul>
          <li>Periorbital swelling/erythema, reduced vision, painful eye movements</li>
          <li>Severe frontal headache, neurological signs</li>
          <li>Signs of sepsis</li>
        </ul>
      </div>
    `;

    const epistaxis = `
      <div class="info-card def">
        <h3>Definition</h3>
        <ul>
          <li>Nasal bleeding, commonly anterior (Little‚Äôs area).</li>
        </ul>
      </div>

      <div class="info-card assess">
        <h3>Quick Assessment</h3>
        <ul>
          <li>ABCDE if heavy bleed; quantify blood loss</li>
          <li>Anticoagulants/antiplatelets, trauma, HTN history</li>
          <li>Posterior bleed features: blood into throat, difficulty controlling</li>
        </ul>
      </div>

      <div class="info-card manage">
        <h3>Management</h3>
        <ul>
          <li>Sit forward, pinch soft part of nose 10‚Äì15 mins</li>
          <li>Ice to bridge can help; clear clots first if possible</li>
          <li>Topical vasoconstrictor/packing per local capability</li>
        </ul>
      </div>

      <div class="info-card flags">
        <h3>Red Flags</h3>
        <ul>
          <li>Cannot control bleeding, haemodynamic compromise</li>
          <li>Suspected posterior bleed</li>
          <li>Bleeding disorder / anticoagulated with significant bleed</li>
        </ul>
      </div>
    `;

    const bppv = `
      <div class="info-card def">
        <h3>Definition</h3>
        <ul>
          <li>Brief episodic vertigo triggered by head movement (otoliths in semicircular canals).</li>
        </ul>
      </div>

      <div class="info-card assess">
        <h3>Quick Assessment</h3>
        <ul>
          <li>Seconds-long vertigo with position change</li>
          <li>Look for neurological symptoms (if present, not BPPV)</li>
          <li>Dix‚ÄìHallpike may reproduce symptoms/nystagmus (trained clinicians)</li>
        </ul>
      </div>

      <div class="info-card manage">
        <h3>Management</h3>
        <ul>
          <li>Repositioning manoeuvres (e.g., Epley) if appropriate</li>
          <li>Advise slow movements, falls risk</li>
          <li>Review if persistent or atypical</li>
        </ul>
      </div>

      <div class="info-card flags">
        <h3>Red Flags</h3>
        <ul>
          <li>New focal neuro deficit, severe headache, ataxia</li>
          <li>Continuous vertigo with central features</li>
          <li>New unilateral hearing loss (consider alternative diagnoses)</li>
        </ul>
      </div>
    `;
  </script>
</body>
</html>